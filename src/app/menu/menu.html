<div class="container">
  <div class="jumbotron text-center">
    <h1>Cashflow</h1>

    <table class="table table-striped">
      <thead>
      <tr>
        <th>Name</th>
        <th>Host</th>
        <th>Spieler</th>
      </tr>
      </thead>
      <tbody>
      <tr style="cursor: pointer" ng-repeat="game in menu.games" ng-click="menu.openJoinGameModal(game)">
        <td>{{game.name}}</td>
        <td>{{game.hostName}}</td>
        <td>{{game.players.length}}</td>
      </tr>
      </tbody>
    </table>
    <button ng-click="menu.openCreateGameModal()" type="button" class="btn btn-lg btn-success rubberBand">Neues Spiel
    </button>

    <script type="text/ng-template" id="createGameModal.html">
      <div class="modal-header">
        <h3 class="modal-title">Neues Spiel</h3>
      </div>
      <form>
        <div class="modal-body">
          <div class="form-group">
            <input ng-model="gameModal.newGame.name" class="form-control" type="text" placeholder="Spielname">
          </div>
          <div class="form-group">
            <input ng-model="gameModal.newGame.password" class="form-control" type="text" placeholder="Passwort">
          </div>
          <div class="modal-footer">
            <button class="btn btn-success rubberBand" type="submit" ng-click="gameModal.createGame()">Auf geht's!
            </button>
            <button class="btn btn-danger" ng-click="gameModal.cancel()">Abbrechen</button>
          </div>
        </div>
      </form>
    </script>

    <script type="text/ng-template" id="joinGameModal.html">
      <div class="modal-header">
        <h3 class="modal-title">Spiel beitreten</h3>
      </div>
      <form>
        <div class="modal-body">
          <p class="lead">Join <strong>{{gameModal.game.name}}</strong></p>
          <ul class="lead">
            <li ng-repeat="player in gameModal.game.players">{{player.name}}</li>
          </ul>
          <div class="form-group">
            <input ng-model="gameModal.password" class="form-control" type="text" placeholder="Passwort">
          </div>
          <div class="modal-footer">
            <button class="btn btn-danger" ng-click="gameModal.cancel()">Abbrechen</button>
            <button class="btn btn-success"
                    ng-class="{'rubberBand':gameModal.game.password === gameModal.password}"
                    ng-disabled="gameModal.game.password !== gameModal.password" type="submit"
                    ng-click="gameModal.joinGame()">Auf geht's!
            </button>
          </div>
        </div>
      </form>
    </script>

  </div>
</div>
